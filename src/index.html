<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MGhosting Video Watermark</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>ğŸ¬ MGhosting Video Watermark</h1>
                <p class="subtitle">Profesyonel GÃ¶rÃ¼nmez Filigran Sistemi</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-button active" data-tab="embed">
                    <span class="tab-icon">â•</span>
                    Filigran Ekle
                </button>
                <button class="tab-button" data-tab="extract">
                    <span class="tab-icon">ğŸ”</span>
                    Filigran Ã‡Ä±kar
                </button>
                <button class="tab-button" data-tab="history">
                    <span class="tab-icon">ğŸ“‹</span>
                    GeÃ§miÅŸ
                </button>
                <button class="tab-button" data-tab="settings">
                    <span class="tab-icon">âš™ï¸</span>
                    Ayarlar
                </button>
            </div>

            <!-- Tab Contents -->
            <div class="tab-content active" id="embed-tab">
                <div class="card">
                    <h2>Video SeÃ§imi</h2>
                    
                    <!-- Video Upload Area -->
                    <div class="upload-area" id="videoUploadArea">
                        <div class="upload-icon">ğŸ¥</div>
                        <p class="upload-text">Videoyu buraya sÃ¼rÃ¼kleyin veya tÄ±klayÄ±n</p>
                        <p class="upload-hint">Desteklenen formatlar: MP4, AVI, MOV, MKV</p>
                        <input type="file" id="videoFileInput" accept="video/*" hidden>
                    </div>

                    <div id="videoInfo" class="video-info hidden">
                        <h3>ğŸ“¹ Video Bilgileri</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Dosya:</span>
                                <span class="info-value" id="videoFileName"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Boyut:</span>
                                <span class="info-value" id="videoFileSize"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k:</span>
                                <span class="info-value" id="videoResolution"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">SÃ¼re:</span>
                                <span class="info-value" id="videoDuration"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Filigran AyarlarÄ±</h2>
                    
                    <!-- Method Selection (Key-Based Only) -->
                    <div class="method-info">
                        <div class="method-card selected">
                            <div class="method-icon">ğŸ”‘</div>
                            <h3>Anahtar TabanlÄ± Filigran</h3>
                            <p>GÃ¶rÃ¼nmez anahtar dizileri ile profesyonel koruma</p>
                            <p class="method-benefit">âœ… HÄ±zlÄ± iÅŸleme | âœ… YÃ¼ksek gÃ¼venilirlik | âœ… KullanÄ±cÄ± takibi</p>
                        </div>
                    </div>

                    <!-- Key-based Settings (Auto-Generated) -->
                    <div id="keyBasedSettings" class="method-settings">
                        <div class="info-card" style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid #4caf50; padding: 15px; margin-bottom: 20px;">
                            <div style="display: flex; align-items: start; gap: 10px;">
                                <span style="font-size: 24px;">âœ¨</span>
                                <div>
                                    <strong>Otomatik Benzersiz Key Ãœretimi</strong>
                                    <p style="margin: 5px 0 0 0; color: rgba(255,255,255,0.7);">
                                        Her kullanÄ±cÄ± iÃ§in benzersiz keys ve sequence otomatik oluÅŸturulacak. Manuel giriÅŸ gerekli deÄŸil!
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="fragLengthInput">âš¡ Ä°ÅŸleme HÄ±zÄ± (Fragment Length)</label>
                            <select id="fragLengthInput" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 5px; color: white; font-size: 14px;">
                                <option value="1">1 saniye - YÃ¼ksek GÃ¼venlik (Ã–nerilen kÄ±sa videolar iÃ§in)</option>
                                <option value="2" selected>2 saniye - Dengeli â­ (En Ã§ok tercih edilen)</option>
                                <option value="5">5 saniye - HÄ±zlÄ± Ä°ÅŸlem (Uzun videolar iÃ§in)</option>
                                <option value="10">10 saniye - Ultra HÄ±zlÄ± (Test/Ã–nizleme)</option>
                            </select>
                            <small>Daha bÃ¼yÃ¼k deÄŸer = Daha hÄ±zlÄ± iÅŸlem. Her X saniyede bir frame iÅŸlenir.</small>
                        </div>
                    </div>


                </div>

                <div class="card">
                    <h2>KullanÄ±cÄ± Bilgileri ve Ä°ÅŸlem</h2>
                    
                    <div class="form-group">
                        <label for="userName">KullanÄ±cÄ± AdÄ±</label>
                        <input type="text" id="userName" placeholder="Ahmet YÄ±lmaz">
                        <small>Filigran bu kullanÄ±cÄ±ya atanacak</small>
                    </div>

                    <div class="form-group">
                        <label for="userEmail">Email Adresi</label>
                        <input type="email" id="userEmail" placeholder="ornek@email.com">
                        <small>Ä°ÅŸlem sonuÃ§larÄ± bu adrese gÃ¶nderilecek</small>
                    </div>

                    <div class="form-group">
                        <label>Ã‡Ä±ktÄ± Konumu</label>
                        <div class="file-path-display" id="outputPathDisplay">
                            <span id="outputPathText">Otomatik oluÅŸturulacak</span>
                            <button class="btn btn-secondary btn-small" id="selectOutputBtn">DeÄŸiÅŸtir</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <details class="advanced-settings">
                            <summary>ğŸ”§ GeliÅŸmiÅŸ Ayarlar</summary>
                            <div class="advanced-content">
                                <div class="form-group">
                                    <label for="strengthInput">Strength (GÃ¼Ã§)</label>
                                    <input type="number" id="strengthInput" min="0.1" step="0.1" value="1.0">
                                </div>
                                <div class="form-group">
                                    <label for="stepInput">Step (AdÄ±m)</label>
                                    <input type="number" id="stepInput" min="0.1" step="0.1" value="5.0">
                                </div>
                                <div class="form-group">
                                    <label for="threadsInput">Threads (Ä°ÅŸ ParÃ§acÄ±ÄŸÄ±)</label>
                                    <input type="number" id="threadsInput" min="1" max="16" value="8">
                                </div>
                            </div>
                        </details>
                    </div>

                    <!-- Progress Bar -->
                    <div id="progressContainer" class="progress-container hidden">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p class="progress-text" id="progressText">Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...</p>
                    </div>

                    <!-- Konsol Paneli -->
                    <div id="processConsole" class="process-console hidden">
                        <div class="console-header">
                            <h3>ğŸ“‹ Ä°ÅŸlem Konsolu</h3>
                            <button class="console-toggle-btn" id="toggleConsoleBtn" title="Konsolu Kapat">âœ•</button>
                        </div>
                        <div class="console-content" id="consoleContent">
                            <div class="console-message info">Konsol hazÄ±r...</div>
                        </div>
                    </div>

                    <!-- Action Button -->
                    <button class="btn btn-primary btn-large" id="startEmbedBtn" disabled>
                        <span class="btn-icon">ğŸš€</span>
                        Filigran Ekle
                    </button>
                </div>
            </div>

            <!-- Extract Tab -->
            <div class="tab-content" id="extract-tab">
                <div class="card">
                    <h2>Filigran Ã‡Ä±karma</h2>
                    
                    <div class="upload-area" id="extractVideoUploadArea">
                        <div class="upload-icon">ğŸ¥</div>
                        <p class="upload-text">FiligranlÄ± videoyu seÃ§in</p>
                        <input type="file" id="extractVideoInput" accept="video/*" hidden>
                    </div>

                    <div id="extractVideoInfo" class="hidden">
                        <p><strong>SeÃ§ilen:</strong> <span id="extractVideoName"></span></p>
                    </div>

                    <div class="method-info">
                        <div class="method-card selected">
                            <div class="method-icon">ï¿½</div>
                            <h3>Otomatik KullanÄ±cÄ± Tespiti</h3>
                            <p>Sistem tÃ¼m kayÄ±tlarÄ± otomatik deneyecek ve videoyu kimin indirdiÄŸini bulacak</p>
                        </div>
                    </div>

                    <div class="info-card" style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196f3; padding: 15px; margin: 20px 0;">
                        <div style="display: flex; align-items: start; gap: 10px;">
                            <span style="font-size: 24px;">ğŸ¤–</span>
                            <div>
                                <strong>Tam Otomatik Tarama</strong>
                                <p style="margin: 5px 0 0 0; color: rgba(255,255,255,0.7);">
                                    Videoyu seÃ§ip "KullanÄ±cÄ±yÄ± Bul" butonuna basmanÄ±z yeterli. Sistem database'deki tÃ¼m kombinasyonlarÄ± deneyecek ve eÅŸleÅŸeni bulacak!
                                </p>
                            </div>
                        </div>
                    </div>



                    <div id="extractProgressContainer" class="progress-container hidden">
                        <div class="progress-bar">
                            <div class="progress-fill" id="extractProgressFill"></div>
                        </div>
                        <p class="progress-text" id="extractProgressText">Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...</p>
                    </div>

                    <button class="btn btn-primary btn-large" id="startExtractBtn" disabled>
                        <span class="btn-icon">ğŸ”</span>
                        KullanÄ±cÄ±yÄ± Bul
                    </button>

                    <div id="extractResult" class="result-box hidden">
                        <h3>SonuÃ§</h3>
                        <pre id="extractResultContent"></pre>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div class="tab-content" id="history-tab">
                <div class="card">
                    <div class="card-header">
                        <h2>Ä°ÅŸlem GeÃ§miÅŸi</h2>
                        <div class="card-actions">
                            <button class="btn btn-secondary" id="refreshHistoryBtn">ğŸ”„ Yenile</button>
                            <button class="btn btn-secondary" id="exportHistoryBtn">ğŸ“¥ DÄ±ÅŸa Aktar</button>
                        </div>
                    </div>

                    <div id="historyStats" class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalRecords">0</div>
                            <div class="stat-label">Toplam Ä°ÅŸlem</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="keyBasedCount">0</div>
                            <div class="stat-label">Anahtar TabanlÄ±</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="imageBasedCount">0</div>
                            <div class="stat-label">GÃ¶rsel TabanlÄ±</div>
                        </div>
                    </div>

                    <div class="search-box">
                        <input type="text" id="searchHistory" placeholder="ğŸ” KayÄ±t ara...">
                    </div>

                    <div id="historyList" class="history-list">
                        <!-- Records will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings-tab">
                <div class="card">
                    <h2>Email (SMTP) YapÄ±landÄ±rmasÄ±</h2>
                    
                    <form id="smtpForm" class="smtp-form">
                        <div class="form-group">
                            <label for="smtpHost">SMTP Host</label>
                            <input type="text" id="smtpHost" placeholder="smtp.gmail.com" required>
                            <small>Ã–rnek: smtp.gmail.com, smtp.office365.com</small>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="smtpPort">Port</label>
                                <input type="number" id="smtpPort" value="587" required>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="smtpSecure">
                                    SSL/TLS Kullan
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpUser">Email Adresi</label>
                            <input type="email" id="smtpUser" placeholder="ornek@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpPass">Åifre / App Password</label>
                            <input type="password" id="smtpPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                            <small>Gmail iÃ§in App Password gereklidir</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="testEmailAddress">Test Email Adresi</label>
                            <input type="email" id="testEmailAddress" placeholder="test@example.com">
                            <small>Test emailinin gÃ¶nderileceÄŸi adres (opsiyonel, kaydedilir)</small>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">ğŸ’¾ AyarlarÄ± Kaydet</button>
                            <button type="button" class="btn btn-secondary" id="testSMTPBtn">ğŸ“§ Test Email GÃ¶nder</button>
                        </div>
                    </form>
                    
                    <div id="smtpStatus" class="result-box hidden"></div>
                </div>

                <div class="card">
                    <h2>Uygulama AyarlarÄ±</h2>
                    
                    
                    <div class="form-group">
                        <h3>Python OrtamÄ±</h3>
                        <p class="help-text">Python ve gerekli kÃ¼tÃ¼phanelerin kurulu olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.</p>
                        <button class="btn btn-secondary" id="checkPythonBtn">ğŸ Python KontrolÃ¼</button>
                        <div id="pythonCheckResult" class="result-box hidden"></div>
                    </div>

                    <div class="form-group">
                        <h3>FFmpeg</h3>
                        <p class="help-text">FFmpeg'in sistem PATH'inde olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.</p>
                        <button class="btn btn-secondary" id="checkFFmpegBtn">ğŸ“¹ FFmpeg KontrolÃ¼</button>
                        <div id="ffmpegCheckResult" class="result-box hidden"></div>
                    </div>

                    <div class="form-group">
                        <h3>GeÃ§ici Dosyalar</h3>
                        <p class="help-text">GeÃ§ici dosyalarÄ± temizleyerek disk alanÄ± aÃ§Ä±n.</p>
                        <button class="btn btn-secondary" id="cleanTempBtn">ğŸ§¹ GeÃ§ici DosyalarÄ± Temizle</button>
                    </div>

                    <div class="form-group">
                        <h3>HakkÄ±nda</h3>
                        <div id="appInfo" class="app-info">
                            <p><strong>Versiyon:</strong> <span id="appVersion">-</span></p>
                            <p><strong>Platform:</strong> <span id="appPlatform">-</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
