<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MGhosting Video Watermark</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-text">
                    <h1><img src="../icon-1766657565896.png" alt="Logo" class="title-logo"> MGhosting Video Watermark</h1>
                    <p class="subtitle">Profesyonel GÃ¶rÃ¼nmez Filigran Sistemi</p>
                </div>
                <div class="header-logo">
                    <img src="../icon-1766657565896.png" alt="MGhosting Logo" class="header-logo-img">
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-button active" data-tab="embed">
                    <span class="tab-icon">â•</span>
                    Filigran Ekle
                </button>
                <button class="tab-button" data-tab="extract">
                    <span class="tab-icon">ğŸ”</span>
                    Filigran Ã‡Ä±kar
                </button>
                <button class="tab-button" data-tab="history">
                    <span class="tab-icon">ğŸ“‹</span>
                    GeÃ§miÅŸ
                </button>
                <button class="tab-button" data-tab="settings">
                    <span class="tab-icon">âš™ï¸</span>
                    Ayarlar
                </button>
            </div>

            <!-- Tab Contents -->
            <div class="tab-content active" id="embed-tab">
                <div class="card">
                    <h2>Video SeÃ§imi</h2>
                    
                    <!-- Video Upload Area -->
                    <div class="upload-area" id="videoUploadArea">
                        <div class="upload-icon">ğŸ¥</div>
                        <p class="upload-text">Videoyu buraya sÃ¼rÃ¼kleyin veya tÄ±klayÄ±n</p>
                        <p class="upload-hint">Desteklenen formatlar: MP4, AVI, MOV, MKV</p>
                        <input type="file" id="videoFileInput" accept="video/*" hidden>
                    </div>

                    <div id="videoInfo" class="video-info hidden">
                        <h3>ğŸ“¹ Video Bilgileri</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Dosya:</span>
                                <span class="info-value" id="videoFileName"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Boyut:</span>
                                <span class="info-value" id="videoFileSize"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k:</span>
                                <span class="info-value" id="videoResolution"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">SÃ¼re:</span>
                                <span class="info-value" id="videoDuration"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Filigran AyarlarÄ±</h2>
                    
                    <!-- Method Selection (Key-Based Only) -->
                    <div class="method-info">
                        <div class="method-card selected">
                            <div class="method-icon">ğŸ”‘</div>
                            <h3>Anahtar TabanlÄ± Filigran</h3>
                            <p>GÃ¶rÃ¼nmez anahtar dizileri ile profesyonel koruma</p>
                            <p class="method-benefit">âœ… HÄ±zlÄ± iÅŸleme | âœ… YÃ¼ksek gÃ¼venilirlik | âœ… KullanÄ±cÄ± takibi</p>
                        </div>
                    </div>

                    <!-- Key-based Settings (Auto-Generated) -->
                    <div id="keyBasedSettings" class="method-settings">
                        <div class="info-card" style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid #4caf50; padding: 15px; margin-bottom: 20px;">
                            <div style="display: flex; align-items: start; gap: 10px;">
                                <span style="font-size: 24px;">âœ¨</span>
                                <div>
                                    <strong>Otomatik Benzersiz Key Ãœretimi</strong>
                                    <p style="margin: 5px 0 0 0; color: rgba(255,255,255,0.7);">
                                        Her kullanÄ±cÄ± iÃ§in benzersiz keys ve sequence otomatik oluÅŸturulacak. Manuel giriÅŸ gerekli deÄŸil!
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="fragLengthInput">âš¡ Ä°ÅŸleme HÄ±zÄ± (Fragment Length)</label>
                            <select id="fragLengthInput">
                                <option value="1">1 saniye - YÃ¼ksek GÃ¼venlik (Ã–nerilen kÄ±sa videolar iÃ§in)</option>
                                <option value="2" selected>2 saniye - Dengeli â­ (En Ã§ok tercih edilen)</option>
                                <option value="5">5 saniye - HÄ±zlÄ± Ä°ÅŸlem (Uzun videolar iÃ§in)</option>
                                <option value="10">10 saniye - Ultra HÄ±zlÄ± (Test/Ã–nizleme)</option>
                            </select>
                            <small>Daha bÃ¼yÃ¼k deÄŸer = Daha hÄ±zlÄ± iÅŸlem. Her X saniyede bir frame iÅŸlenir.</small>
                        </div>
                    </div>


                </div>

                <div class="card">
                    <h2>KullanÄ±cÄ± Bilgileri ve Ä°ÅŸlem</h2>
                    
                    <div class="form-group">
                        <label for="userName">KullanÄ±cÄ± AdÄ±</label>
                        <input type="text" id="userName" placeholder="Ahmet YÄ±lmaz">
                        <small>Filigran bu kullanÄ±cÄ±ya atanacak</small>
                    </div>

                    <div class="form-group">
                        <label for="userEmail">Email Adresi</label>
                        <input type="email" id="userEmail" placeholder="ornek@email.com" list="emailSuggestions">
                        <datalist id="emailSuggestions">
                            <!-- Email suggestions will be loaded here -->
                        </datalist>
                        <small>Ä°ÅŸlem sonuÃ§larÄ± bu adrese gÃ¶nderilecek</small>
                    </div>

                    <div class="form-group">
                        <label>Ã‡Ä±ktÄ± Konumu</label>
                        <div class="file-path-display" id="outputPathDisplay">
                            <span id="outputPathText">Otomatik oluÅŸturulacak</span>
                            <button class="btn btn-secondary btn-small" id="selectOutputBtn">DeÄŸiÅŸtir</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <details class="advanced-settings">
                            <summary>ğŸ”§ GeliÅŸmiÅŸ Ayarlar</summary>
                            <div class="advanced-content">
                                <div class="form-group">
                                    <label for="strengthInput">Strength (GÃ¼Ã§)</label>
                                    <input type="number" id="strengthInput" min="0.1" step="0.1" value="1.0">
                                </div>
                                <div class="form-group">
                                    <label for="stepInput">Step (AdÄ±m)</label>
                                    <input type="number" id="stepInput" min="0.1" step="0.1" value="5.0">
                                </div>
                                <div class="form-group">
                                    <label for="threadsInput">Threads (Ä°ÅŸ ParÃ§acÄ±ÄŸÄ±)</label>
                                    <input type="number" id="threadsInput" min="1" max="16" value="8">
                                </div>
                            </div>
                        </details>
                    </div>

                    <!-- Progress Bar -->
                    <div id="progressContainer" class="progress-container hidden">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p class="progress-text" id="progressText">Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...</p>
                    </div>

                    <!-- Konsol Paneli -->
                    <div id="processConsole" class="process-console hidden">
                        <div class="console-header">
                            <h3>ğŸ“‹ Ä°ÅŸlem Konsolu</h3>
                            <button class="console-toggle-btn" id="toggleConsoleBtn" title="Konsolu Kapat">âœ•</button>
                        </div>
                        <div class="console-content" id="consoleContent">
                            <div class="console-message info">Konsol hazÄ±r...</div>
                        </div>
                    </div>

                    <!-- Action Button -->
                    <button class="btn btn-primary btn-large" id="startEmbedBtn" disabled>
                        <span class="btn-icon">ğŸš€</span>
                        Filigran Ekle
                    </button>
                </div>
            </div>

            <!-- Extract Tab -->
            <div class="tab-content" id="extract-tab">
                <div class="card">
                    <h2>Filigran Ã‡Ä±karma</h2>
                    
                    <div id="extractResult" class="result-box hidden">
                        <div id="extractResultContent"></div>
                    </div>
                    
                    <div class="upload-area" id="extractVideoUploadArea">
                                <div class="upload-icon">ğŸ¥</div>
                                <p class="upload-text">FiligranlÄ± videoyu seÃ§in</p>
                                <input type="file" id="extractVideoInput" accept="video/*" hidden>
                            </div>

                            <div id="extractVideoInfo" class="hidden">
                                <p><strong>SeÃ§ilen:</strong> <span id="extractVideoName"></span></p>
                            </div>

                            <div class="method-selector" id="extractMethodSelector" style="margin: 20px 0; display: none;">
                                <div class="method-option" data-method="auto">
                                    <input type="radio" id="extractAutoMode" name="extractMethod" value="auto" checked>
                                    <label for="extractAutoMode">
                                        <div class="method-icon">ğŸ¤–</div>
                                        <div class="method-details">
                                            <strong>Otomatik Arama</strong>
                                            <p>TÃ¼m kayÄ±tlar taranÄ±r ve kullanÄ±cÄ± bulunur</p>
                                        </div>
                                    </label>
                                </div>
                                <div class="method-option" data-method="manual">
                                    <input type="radio" id="extractManualMode" name="extractMethod" value="manual">
                                    <label for="extractManualMode">
                                        <div class="method-icon">ğŸ”‘</div>
                                        <div class="method-details">
                                            <strong>Manuel Key</strong>
                                            <p>Belirli bir key ile Ã§Ä±karma</p>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div id="manualKeyInput" class="form-group hidden" style="margin: 15px 0;">
                                <label for="extractManualKey">Ã‡Ä±karma Key'i:</label>
                                <input type="text" id="extractManualKey" class="form-input" placeholder="Ã–rn: user123_20231225" style="width: 100%; padding: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); border-radius: 8px; color: white;">
                            </div>

                            <div id="extractProgressContainer" class="progress-container hidden">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="extractProgressFill"></div>
                                </div>
                                <p class="progress-text" id="extractProgressText">Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...</p>
                            </div>

                            <button class="btn btn-primary btn-large" id="startExtractBtn" disabled>
                                <span class="btn-icon">ğŸ”</span>
                                KullanÄ±cÄ±yÄ± Bul
                            </button>
                </div>
            </div>

            <!-- History Tab -->
            <div class="tab-content" id="history-tab">
                <div class="card">
                    <div class="card-header">
                        <h2>Ä°ÅŸlem GeÃ§miÅŸi</h2>
                        <div class="card-actions">
                            <button class="btn btn-secondary" id="refreshHistoryBtn">ğŸ”„ Yenile</button>
                            <button class="btn btn-secondary" id="exportHistoryBtn">ğŸ“¥ DÄ±ÅŸa Aktar</button>
                        </div>
                    </div>

                    <div id="historyStats" class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalRecords">0</div>
                            <div class="stat-label">Toplam Ä°ÅŸlem</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="keyBasedCount">0</div>
                            <div class="stat-label">Anahtar TabanlÄ±</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="imageBasedCount">0</div>
                            <div class="stat-label">GÃ¶rsel TabanlÄ±</div>
                        </div>
                    </div>

                    <div class="search-box">
                        <input type="text" id="searchHistory" placeholder="ğŸ” KayÄ±t ara...">
                    </div>

                    <div id="historyList" class="history-list">
                        <!-- Records will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings-tab">
                <div class="card">
                    <h2>Email (SMTP) YapÄ±landÄ±rmasÄ±</h2>
                    
                    <form id="smtpForm" class="smtp-form">
                        <div class="form-group">
                            <label for="smtpHost">SMTP Host</label>
                            <input type="text" id="smtpHost" placeholder="smtp.gmail.com" required>
                            <small>Ã–rnek: smtp.gmail.com, smtp.office365.com</small>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="smtpPort">Port</label>
                                <input type="number" id="smtpPort" value="587" required>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="smtpSecure">
                                    SSL/TLS Kullan
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpUser">Email Adresi</label>
                            <input type="email" id="smtpUser" placeholder="ornek@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpPass">Åifre / App Password</label>
                            <input type="password" id="smtpPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                            <small>Gmail iÃ§in App Password gereklidir</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="testEmailAddress">Test Email Adresi</label>
                            <input type="email" id="testEmailAddress" placeholder="test@example.com">
                            <small>Test emailinin gÃ¶nderileceÄŸi adres (opsiyonel, kaydedilir)</small>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">ğŸ’¾ AyarlarÄ± Kaydet</button>
                            <button type="button" class="btn btn-secondary" id="testSMTPBtn">ğŸ“§ Test Email GÃ¶nder</button>
                        </div>
                    </form>
                    
                    <div id="smtpStatus" class="result-box hidden"></div>
                </div>

                <div class="card">
                    <h2>Uygulama AyarlarÄ±</h2>
                    
                    <div class="form-group">
                        <label for="defaultEmail">VarsayÄ±lan Email Adresi (Ã‡oklu)</label>
                        <p class="help-text">Filigran ekleme iÅŸleminde otomatik doldurulacak email adreslerini tanÄ±mlayÄ±n. Birden fazla email eklemek iÃ§in virgÃ¼l (,) ile ayÄ±rÄ±n. Ä°lk email otomatik olarak forma yÃ¼klenir.</p>
                        <input type="text" id="defaultEmail" placeholder="email1@test.com, email2@test.com">
                        <small>ğŸ’¡ Ä°pucu: FarklÄ± projeler veya mÃ¼ÅŸteriler iÃ§in birden fazla email ekleyebilirsiniz</small>
                        <button type="button" class="btn btn-primary" id="saveDefaultEmailBtn" style="margin-top: 10px;">ğŸ’¾ Kaydet</button>
                    </div>
                    
                    <div class="form-group">
                        <h3>Python OrtamÄ±</h3>
                        <p class="help-text">Python ve gerekli kÃ¼tÃ¼phanelerin kurulu olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.</p>
                        <button class="btn btn-secondary" id="checkPythonBtn">ğŸ Python KontrolÃ¼</button>
                        <div id="pythonCheckResult" class="result-box hidden"></div>
                    </div>

                    <div class="form-group">
                        <h3>FFmpeg</h3>
                        <p class="help-text">FFmpeg'in sistem PATH'inde olup olmadÄ±ÄŸÄ±nÄ± kontrol edin.</p>
                        <button class="btn btn-secondary" id="checkFFmpegBtn">ğŸ“¹ FFmpeg KontrolÃ¼</button>
                        <div id="ffmpegCheckResult" class="result-box hidden"></div>
                    </div>

                    <div class="form-group">
                        <h3>GeÃ§ici Dosyalar</h3>
                        <p class="help-text">GeÃ§ici dosyalarÄ± temizleyerek disk alanÄ± aÃ§Ä±n.</p>
                        <button class="btn btn-secondary" id="cleanTempBtn">ğŸ§¹ GeÃ§ici DosyalarÄ± Temizle</button>
                    </div>

                    <div class="form-group danger-zone">
                        <h3>âš ï¸ Tehlikeli Ä°ÅŸlemler</h3>
                        <p class="help-text danger-text">AÅŸaÄŸÄ±daki iÅŸlemler geri alÄ±namaz! Dikkatli olun.</p>
                        
                        <div class="danger-action">
                            <div class="danger-action-header">
                                <span class="danger-icon">ğŸ—‘ï¸</span>
                                <div>
                                    <h4>TÃ¼m GeÃ§miÅŸi Sil</h4>
                                    <p>TÃ¼m filigran kayÄ±tlarÄ± ve geÃ§miÅŸ kalÄ±cÄ± olarak silinecektir.</p>
                                </div>
                            </div>
                            <button class="btn btn-danger" id="deleteHistoryBtn">GeÃ§miÅŸi Sil</button>
                        </div>
                    </div>

                    <div class="form-group about-section">
                        <div class="about-card">
                            <div class="about-content">
                                <div class="about-left">
                                    <h4 class="about-title">MGhosting Video Watermark</h4>
                                    <p class="about-subtitle">v<span id="appVersion">-</span> â€¢ <span id="appPlatform">-</span></p>
                                </div>
                                
                                <div class="about-divider"></div>
                                
                                <div class="about-center">
                                    <p class="creator-text">Fatih Eke</p>
                                    <a href="https://github.com/exedesign/MGhostingFrame" target="_blank" class="github-link">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                        </svg>
                                        <span>GitHub</span>
                                    </a>
                                </div>
                                
                                <div class="about-divider"></div>
                                
                                <div class="about-right">
                                    <span class="made-badge">TÃ¼rkiye'den â¤ï¸ ile</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>

    <!-- Delete History Confirmation Modal -->
    <div id="deleteHistoryModal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header danger">
                <span class="modal-icon">âš ï¸</span>
                <h2>TÃ¼m GeÃ§miÅŸi Sil</h2>
            </div>
            <div class="modal-body">
                <div class="warning-box">
                    <p><strong>DÄ°KKAT:</strong> Bu iÅŸlem geri alÄ±namaz!</p>
                    <ul>
                        <li>TÃ¼m filigran kayÄ±tlarÄ± silinecek</li>
                        <li>KullanÄ±cÄ± bilgileri ve key'ler kaybolacak</li>
                        <li>Ä°ÅŸlem geÃ§miÅŸi tamamen temizlenecek</li>
                    </ul>
                </div>
                
                <div class="verification-box">
                    <p>Devam etmek iÃ§in aÅŸaÄŸÄ±daki <strong>4 haneli kodu</strong> girin:</p>
                    <div class="verification-code">
                        <span id="verificationCode">0000</span>
                    </div>
                    <input type="text" id="verificationInput" class="form-input" placeholder="4 haneli kodu buraya yazÄ±n" maxlength="4" autocomplete="off">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelDeleteBtn">Ä°ptal</button>
                <button class="btn btn-danger" id="confirmDeleteBtn" disabled>Evet, TÃ¼m GeÃ§miÅŸi Sil</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
